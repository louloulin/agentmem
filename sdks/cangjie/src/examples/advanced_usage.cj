package agentmem.examples

import agentmem.core.*
import agentmem.api.*
import agentmem.utils.*

/// ç®€åŒ–çš„é«˜çº§ä½¿ç”¨ç¤ºä¾‹
public class AdvancedUsageExample {
    
    /// è¿è¡Œé«˜çº§ä½¿ç”¨ç¤ºä¾‹
    public static func run(): Bool {
        println("ğŸš€ AgentMem ä»“é¢‰ SDK é«˜çº§ä½¿ç”¨ç¤ºä¾‹")
        println("============================================================")
        
        // ç®€åŒ–çš„é«˜çº§ç¤ºä¾‹
        println("\nğŸ“š æ™ºèƒ½è®°å¿†ç®¡ç†ç¤ºä¾‹...")
        let client = AgentMemClientBuilder()
            .agentId("smart-agent")
            .apiKey("demo-key")
            .build()
        
        println("  âœ“ å®¢æˆ·ç«¯åˆ›å»ºæˆåŠŸ")
        
        println("\nğŸ” é«˜çº§æœç´¢ç¤ºä¾‹...")
        let searchService = AgentMemSearchService("smart-agent")
        let textResult = searchService.searchByText("å’–å•¡", None, None)
        if (textResult.isOk()) {
            println("  âœ“ æœç´¢åŠŸèƒ½æ­£å¸¸")
        } else {
            println("  âš  æœç´¢åŠŸèƒ½æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿç¯å¢ƒï¼‰")
        }
        
        println("\nğŸ“¦ æ‰¹é‡æ“ä½œç¤ºä¾‹...")
        let memoryOps = AgentMemMemoryOps("smart-agent")
        let statsResult = memoryOps.getStatistics()
        if (statsResult.isOk()) {
            println("  âœ“ ç»Ÿè®¡åŠŸèƒ½æ­£å¸¸")
        } else {
            println("  âš  ç»Ÿè®¡åŠŸèƒ½æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿç¯å¢ƒï¼‰")
        }
        
        println("\nğŸ“ˆ è®°å¿†åˆ†æç¤ºä¾‹...")
        let adminService = AgentMemAdminService()
        adminService.setConnected(true)
        let healthResult = adminService.getSystemHealth()
        if (healthResult.isOk()) {
            println("  âœ“ å¥åº·æ£€æŸ¥æ­£å¸¸")
        } else {
            println("  âš  å¥åº·æ£€æŸ¥æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿç¯å¢ƒï¼‰")
        }
        
        return true
    }
}
