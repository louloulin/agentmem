# AgentMem Docker 环境配置

# =============================================================================
# 通用配置
# =============================================================================
COMPOSE_PROJECT_NAME=agentmem
NETWORK_NAME=agentmem-network

# 数据目录
DATA_DIR=./data

# =============================================================================
# Milvus 配置
# =============================================================================
MILVUS_VERSION=v2.3.4
MILVUS_PORT=19530
MILVUS_HTTP_PORT=9091

# Milvus 依赖服务
ETCD_VERSION=3.5.5
ETCD_PORT=2379
ETCD_DATA_DIR=${DATA_DIR}/etcd

MINIO_VERSION=RELEASE.2023-03-20T20-16-18Z
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_DATA_DIR=${DATA_DIR}/minio

# =============================================================================
# Chroma 配置
# =============================================================================
CHROMA_VERSION=0.4.18
CHROMA_PORT=8000
CHROMA_DATA_DIR=${DATA_DIR}/chroma

# =============================================================================
# Weaviate 配置
# =============================================================================
WEAVIATE_VERSION=1.22.4
WEAVIATE_PORT=8080
WEAVIATE_GRPC_PORT=50051
WEAVIATE_DATA_DIR=${DATA_DIR}/weaviate

# Weaviate 模块配置
ENABLE_MODULES=text2vec-openai,text2vec-cohere,text2vec-huggingface,qna-openai
DEFAULT_VECTORIZER_MODULE=text2vec-openai
CLUSTER_HOSTNAME=node1

# =============================================================================
# Qdrant 配置
# =============================================================================
QDRANT_VERSION=v1.7.3
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_DATA_DIR=${DATA_DIR}/qdrant

# =============================================================================
# Elasticsearch 配置
# =============================================================================
ELASTICSEARCH_VERSION=8.11.0
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300
ELASTICSEARCH_DATA_DIR=${DATA_DIR}/elasticsearch

# Elasticsearch 安全配置
ELASTIC_PASSWORD=changeme
ELASTICSEARCH_HEAP_SIZE=2g

# =============================================================================
# PostgreSQL + pgvector 配置
# =============================================================================
POSTGRES_VERSION=15
PGVECTOR_VERSION=0.5.1
POSTGRES_PORT=5432
POSTGRES_DB=agentmem
POSTGRES_USER=agentmem
POSTGRES_PASSWORD=changeme
POSTGRES_DATA_DIR=${DATA_DIR}/postgres

# =============================================================================
# Redis 配置
# =============================================================================
REDIS_VERSION=7.2-alpine
REDIS_PORT=6379
REDIS_PASSWORD=changeme
REDIS_DATA_DIR=${DATA_DIR}/redis

# Redis 配置
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# 监控配置
# =============================================================================

# Prometheus
PROMETHEUS_VERSION=v2.47.2
PROMETHEUS_PORT=9090
PROMETHEUS_DATA_DIR=${DATA_DIR}/prometheus

# Grafana
GRAFANA_VERSION=10.2.0
GRAFANA_PORT=3000
GRAFANA_DATA_DIR=${DATA_DIR}/grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Jaeger
JAEGER_VERSION=1.51
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# =============================================================================
# 网络配置
# =============================================================================
SUBNET=172.20.0.0/16

# =============================================================================
# 资源限制
# =============================================================================

# Milvus 资源限制
MILVUS_MEMORY_LIMIT=4g
MILVUS_CPU_LIMIT=2

# Elasticsearch 资源限制
ELASTICSEARCH_MEMORY_LIMIT=4g
ELASTICSEARCH_CPU_LIMIT=2

# PostgreSQL 资源限制
POSTGRES_MEMORY_LIMIT=2g
POSTGRES_CPU_LIMIT=1

# Redis 资源限制
REDIS_MEMORY_LIMIT=2g
REDIS_CPU_LIMIT=1

# =============================================================================
# 开发配置
# =============================================================================

# 是否启用开发模式
DEV_MODE=true

# 日志级别
LOG_LEVEL=info

# 是否启用调试
DEBUG=false

# =============================================================================
# API Keys (用于云服务集成)
# =============================================================================

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# Cohere API Key
COHERE_API_KEY=your_cohere_api_key_here

# HuggingFace API Key
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# Pinecone API Key
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment_here

# =============================================================================
# 安全配置
# =============================================================================

# JWT 密钥
JWT_SECRET=your_jwt_secret_here

# 加密密钥
ENCRYPTION_KEY=your_encryption_key_here

# TLS 配置
ENABLE_TLS=false
TLS_CERT_PATH=./certs/server.crt
TLS_KEY_PATH=./certs/server.key
