# 变更日志

所有对 AgentDB Core 项目的重要更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.2.0] - 2025-01-08

### 🎉 重大更新
- **完全重构**: 重新设计了整个架构，提供更好的性能和可维护性
- **依赖升级**: 升级到最新的 Arrow 55.2 和 LanceDB 0.21.2
- **简化实现**: 采用基于文件系统的简化实现，减少复杂性

### ✨ 新增功能
- **智能体状态管理**: 完整的多类型状态支持
- **记忆管理系统**: 支持多种记忆类型和智能检索
- **RAG 引擎**: 文档索引、混合搜索和上下文构建
- **向量搜索**: 高效的向量索引和相似度搜索
- **安全管理**: 用户认证和权限控制
- **C FFI 接口**: 完整的跨语言支持
- **性能监控**: 内置性能指标收集
- **分布式支持**: 基础的分布式架构支持
- **实时流处理**: 实时数据流处理能力

### 🔧 改进
- **错误处理**: 统一的错误类型和更好的错误信息
- **类型安全**: 改进的类型定义和安全性
- **API 设计**: 更直观和一致的 API 接口
- **文档**: 完整的代码文档和使用示例
- **测试**: 全面的单元测试和集成测试

### 🐛 修复
- **依赖冲突**: 解决了 Arrow 版本冲突问题
- **内存管理**: 修复了潜在的内存泄漏问题
- **并发安全**: 改进了多线程环境下的安全性

### 📚 文档
- **README**: 完整的项目介绍和使用指南
- **示例**: 提供了基本使用示例
- **API 文档**: 详细的 API 文档

### 🔄 迁移指南
从 0.1.x 版本升级到 0.2.0：

1. **更新依赖**:
   ```toml
   [dependencies]
   agent-db-core = "0.2.0"
   ```

2. **API 变更**:
   - `AgentDatabase::new()` 现在需要 `DatabaseConfig`
   - 记忆管理 API 已简化
   - RAG 引擎需要显式初始化

3. **配置变更**:
   ```rust
   // 旧版本
   let db = AgentDatabase::new("./data").await?;
   
   // 新版本
   let db = create_database("./data").await?
       .with_rag_engine().await?;
   ```

### 🚧 已知问题
- 分布式功能仍在开发中
- 某些高级向量搜索功能待完善
- 性能监控指标需要进一步优化

### 🔮 下一版本计划
- 完整的分布式支持
- 更多向量搜索算法
- 图数据库功能
- 更好的性能优化
- 更多语言绑定

---

## [0.1.0] - 2024-12-XX

### ✨ 初始版本
- 基础的智能体状态管理
- 简单的记忆存储
- 基本的向量搜索功能
- 初步的 C FFI 接口

---

**注意**: 版本 0.2.0 是一个重大更新，包含了破坏性变更。请仔细阅读迁移指南。
